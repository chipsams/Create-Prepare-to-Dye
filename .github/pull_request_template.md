This pull request will be merged when its done, when the following checkboxes are checked and when it passes review.
[ ] - tested and confirmed working
    [ ] - singleplayer
    [ ] - server
    [ ] - all test cases
        [ ] - case 1
        [ ] - case 2
